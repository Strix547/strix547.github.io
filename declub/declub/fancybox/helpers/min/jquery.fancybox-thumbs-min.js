!function($){var t=$.fancybox;t.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(t){var i;return t.element&&(i=$(t.element).find("img").attr("src")),!i&&"image"===t.type&&t.href&&(i=t.href),i}},wrap:null,list:null,width:0,init:function(t,i){var h=this,e,s=t.width,o=t.height,n=t.source;e="";for(var r=0;r<i.group.length;r++)e+='<li><a style="width:'+s+"px;height:"+o+'px;" href="javascript:jQuery.fancybox.jumpto('+r+');"></a></li>';this.wrap=$('<div id="fancybox-thumbs"></div>').addClass(t.position).appendTo("body"),this.list=$("<ul>"+e+"</ul>").appendTo(this.wrap),$.each(i.group,function(t){var e=n(i.group[t]);e&&$("<img />").load(function(){var i=this.width,e=this.height,n,r,a;h.list&&i&&e&&(n=i/s,r=e/o,a=h.list.children().eq(t).find("a"),n>=1&&r>=1&&(n>r?(i=Math.floor(i/r),e=o):(i=s,e=Math.floor(e/n))),$(this).css({width:i,height:e,top:Math.floor(o/2-e/2),left:Math.floor(s/2-i/2)}),a.width(s).height(o),$(this).hide().appendTo(a).fadeIn(300))}).attr("src",e)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(.5*$(window).width()-(i.index*this.width+.5*this.width)))},beforeLoad:function(t,i){return i.group.length<2?void(i.helpers.thumbs=!1):void(i.margin["top"===t.position?0:2]+=t.height+15)},afterShow:function(t,i){this.list?this.onUpdate(t,i):this.init(t,i),this.list.children().removeClass("active").eq(i.index).addClass("active")},onUpdate:function(t,i){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*$(window).width()-(i.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);